FROM python:3.11.14-alpine3.23
COPY vote/ .
EXPOSE 8080

# Accès à Redis
ARG REDIS_HOST
ARG REDIS_PORT
ARG REDIS_DB
ARG REDIS_TIMEOUT

ENV REDIS_HOST=${REDIS_HOST}
ENV REDIS_PORT=${REDIS_PORT}
ENV REDIS_DB=${REDIS_DB}
ENV REDIS_TIMEOUT=${REDIS_TIMEOUT}

RUN pip install -r requirements.txt
ENTRYPOINT python app.py
